(function(t){function s(s){for(var a,n,r=s[0],l=s[1],c=s[2],u=0,m=[];u<r.length;u++)n=r[u],i[n]&&m.push(i[n][0]),i[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(s);while(m.length)m.shift()();return o.push.apply(o,c||[]),e()}function e(){for(var t,s=0;s<o.length;s++){for(var e=o[s],a=!0,r=1;r<e.length;r++){var l=e[r];0!==i[l]&&(a=!1)}a&&(o.splice(s--,1),t=n(n.s=e[0]))}return t}var a={},i={app:0},o=[];function n(s){if(a[s])return a[s].exports;var e=a[s]={i:s,l:!1,exports:{}};return t[s].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=t,n.c=a,n.d=function(t,s,e){n.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:e})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,s){if(1&s&&(t=n(t)),8&s)return t;if(4&s&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var a in t)n.d(e,a,function(s){return t[s]}.bind(null,a));return e},n.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(s,"a",s),s},n.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=s,r=r.slice();for(var c=0;c<r.length;c++)s(r[c]);var d=l;o.push([0,"chunk-vendors"]),e()})({0:function(t,s,e){t.exports=e("56d7")},"034f":function(t,s,e){"use strict";var a=e("64a9"),i=e.n(a);i.a},"298e":function(t,s,e){"use strict";var a=e("57b9"),i=e.n(a);i.a},"3b8a":function(t,s,e){"use strict";var a=e("a539"),i=e.n(a);i.a},"56d7":function(t,s,e){"use strict";e.r(s);var a=e("2b0e"),i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row nav-bg",staticStyle:{height:"10vh"}},[e("div",{staticClass:"col"},[e("router-link",{attrs:{to:"/board"}},[t._v("Boards")])],1),e("div",{staticClass:"col"},[e("router-link",{attrs:{to:"/login"}},[t._v("Login")])],1),e("div",{staticClass:"col"},[e("button",{staticClass:"btn",on:{click:t.logoutUser}},[t._v("Logout")])]),e("div",{staticClass:"col"},[e("router-link",{attrs:{to:"/template"}},[t._v("Template")])],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 p-0",attrs:{id:"app"}},[e("router-view")],1)])])},o=[],n={name:"App",methods:{logoutUser(){this.$store.dispatch("logout")}}},r=n,l=(e("034f"),e("2877")),c=Object(l["a"])(r,i,o,!1,null,null,null),d=c.exports,u=e("8c4f"),m=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"boards container-fluid"},[e("div",{staticClass:"row justify-content-center mt-5 "},[e("div",{staticClass:"col align-self-center"},[e("h1",{staticClass:"text-center"},[t._v(t._s(t.user.name)+"'s Branches")])])]),e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-8 p-3 bg-info rounded"},[e("h3",{staticClass:"text-white"},[t._v("Add a New Branch")]),e("form",{on:{submit:function(s){return s.preventDefault(),t.addBoard(s)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newBoard.title,expression:"newBoard.title"}],staticClass:"form-control m-1 px-2",attrs:{type:"text",placeholder:"title",required:""},domProps:{value:t.newBoard.title},on:{input:function(s){s.target.composing||t.$set(t.newBoard,"title",s.target.value)}}}),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newBoard.description,expression:"newBoard.description"}],staticClass:"form-control m-1",attrs:{type:"text",rows:"3",placeholder:"description"},domProps:{value:t.newBoard.description},on:{input:function(s){s.target.composing||t.$set(t.newBoard,"description",s.target.value)}}}),t._m(0)])])]),e("div",{staticClass:"row justify-content-center mt-5"},t._l(t.boards,function(s){return e("div",{key:s._id,staticClass:"col-2 p-3 mx-2 mb-2 bg-board"},[e("div",{staticClass:"row board-btn rounded mx-auto p-0 "},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-10 p-0"},[e("router-link",{attrs:{to:{name:"board",params:{boardId:s._id}}}},[e("h6",{staticClass:"text-white align-self-center m-0 my-2"},[t._v(t._s(s.title))])])],1),e("div",{staticClass:"col-2 p-0"},[e("i",{staticClass:"fas fa-minus-circle text-white my-2",on:{click:function(e){t.deleteBoard(s._id)}}})])])])])])}))])},p=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("button",{staticClass:"btn btn-success m-1 rounded-circle",attrs:{type:"submit"}},[e("i",{staticClass:" fas fa-plus-circle"})])}],v={name:"boards",created(){this.$store.state.user._id||this.$router.push({name:"login"})},mounted(){this.$store.dispatch("getBoards")},data(){return{newBoard:{title:"",description:""}}},computed:{boards(){return this.$store.state.boards},user(){return this.$store.state.user}},methods:{addBoard(){this.$store.dispatch("addBoard",this.newBoard),this.newBoard={title:"",description:""}},deleteBoard(t){this.$store.dispatch("deleteBoard",t)}}},h=v,f=(e("3b8a"),Object(l["a"])(h,m,p,!1,null,null,null)),b=f.exports,g=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"board container-fluid"},[e("div",{staticClass:"row"},[e("strong",[t._v(t._s(t.board.title))]),t._v(": "+t._s(t.board.description))]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("form",{on:{submit:function(s){return s.preventDefault(),t.handleSubmit(s)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.title},on:{input:function(s){s.target.composing||(t.title=s.target.value)}}}),e("button",{attrs:{type:"submit"}},[t._v("Add List")])])])]),e("div",{staticClass:"row justify-content-around"},t._l(t.lists,function(t){return e("list",{attrs:{list:t}})}))])},C=[],w=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"col-12 col-sm-6 col-md-4 col-lg-3 p-1 list-group h-90 bg-info"},[e("div",{staticClass:"row m-1 h-90 bg-light justify-content-center"},[e("div",{staticClass:"col-11 my-3 align-items-center"},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col p-0 align-self-center"},[e("h3",{staticClass:"text-center m-0"},[t._v(t._s(t.list.title))])]),e("div",{staticClass:"col-2 text-center p-0 align-self-center"},[e("i",{staticClass:"fas fa-minus-circle",on:{click:t.deleteList}})])]),e("task",{attrs:{id:t.list._id,boardId:t.list.boardId}})],1)])])},_=[],k=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[t._l(t.tasks,function(s){return e("div",{staticClass:"row"},[e("div",{staticClass:"col-7 p-0"},[e("h3",{staticClass:"text-left"},[t._v(t._s(s.title))])]),e("div",{staticClass:"col"},[e("button",{staticClass:"btn btn-outline-info p-0",on:{click:function(e){t.deleteTask(s._id)}}},[e("i",{staticClass:"fas fa-minus-circle"})])]),e("div",{staticClass:"col-2 p-0"},[e("div",{staticClass:"dropdown mr-1"},[t._m(0,!0),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuOffset"}},t._l(t.lists,function(a){return e("a",{key:a._id,staticClass:"dropdown-item",attrs:{id:"list._id"},on:{click:function(e){t.moveTask(s,a._id)}}},[t._v(t._s(a.title))])}))])]),e("div",{staticClass:"col-12 my-2"},[t._l(s.comments,function(a,i){return e("div",{staticClass:"row justify-content-between"},[e("div",{staticClass:"col-10 p-0"},[e("h6",{staticClass:"text-left"},[t._v(t._s(a.content))])]),e("div",{staticClass:"col-1 p-0"},[e("button",{staticClass:"btn btn-outline-info p-0",on:{click:function(e){t.deleteComment(i,s)}}},[e("i",{staticClass:"fas fa-minus-circle"})])])])}),e("div",{staticClass:"row justify-content-center"},[e("form",{staticClass:"form-row",on:{submit:function(e){e.preventDefault(),t.addComment(s)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.comment.content,expression:"comment.content"}],staticClass:"col-10 form-control p-0",attrs:{id:"task._id",type:"text"},domProps:{value:t.comment.content},on:{input:function(s){s.target.composing||t.$set(t.comment,"content",s.target.value)}}}),t._m(1,!0)])])],2)])}),e("div",{staticClass:"row margin-top"},[e("div",{staticClass:"col-10"},[e("form",{on:{submit:function(s){return s.preventDefault(),t.handleSubmit(s)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Title"},domProps:{value:t.title},on:{input:function(s){s.target.composing||(t.title=s.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Description"},domProps:{value:t.description},on:{input:function(s){s.target.composing||(t.description=s.target.value)}}}),e("button",{attrs:{type:"submit"}},[t._v("Create LeafNote")])])])])],2)},y=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("button",{staticClass:"btn btn-outline-info dropdown-toggle",attrs:{type:"button",id:"dropdownMenuOffset","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false","data-offset":"10,20"}},[e("i",{staticClass:"fab fa-envira"})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("button",{staticClass:"p-0 col-2 btn btn-outline-info",attrs:{type:"submit"}},[e("i",{staticClass:"fas fa-plus-circle"})])}],$={name:"Task",props:["id","boardId"],data(){return{title:"",description:"",comment:{content:""}}},mounted(){this.$store.dispatch("getTasks",this.id)},computed:{tasks(){return this.$store.state.tasks[this.id]||[]},lists(){return this.$store.state.lists},user(){return this.$store.state.user}},methods:{handleSubmit(){let t={title:this.title,description:this.description,listId:this.id};this.$store.dispatch("createTask",t)},moveTask(t,s){let e=t.listId;t.listId=s,this.$store.dispatch("moveTask",{task:t,oldId:e})},addComment(t){this.comment.authorId=this.user._id,t.comments.push(this.comment),this.$store.dispatch("updateTask",t),this.comment={}},deleteTask(t){let s=this.id;this.$store.dispatch("deleteTask",{taskId:t,listId:s})},deleteComment(t,s){s.comments.splice(t,1),this.$store.dispatch("updateTask",s)}}},x=$,T=Object(l["a"])(x,k,y,!1,null,null,null),B=T.exports,I={name:"List",props:["list"],computed:{lists(){return this.$store.state.lists||{title:"Loading..."}},tasks(){return this.$store.state.tasks.listId}},methods:{deleteList(t){return this.$store.dispatch("deleteList",this.list)}},components:{Task:B}},j=I,L=(e("298e"),Object(l["a"])(j,w,_,!1,null,"74dcc244",null)),U=L.exports,O={name:"board",props:["boardId"],data(){return{title:""}},mounted(){this.$store.dispatch("getBoards"),this.$store.dispatch("getLists",this.boardId)},computed:{board(){return this.$store.state.boards.find(t=>t._id==this.boardId)||{title:"Loading..."}},lists(){return this.$store.state.lists}},methods:{handleSubmit(){let t={title:this.title,boardId:this.boardId};this.$store.dispatch("addList",t)}},components:{List:U}},P=O,N=Object(l["a"])(P,g,C,!1,null,null,null),S=N.exports,E=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"login container-fluid p-0",staticStyle:{height:"100vh"}},[t._m(0),e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-6"},[t.loginForm?e("form",{on:{submit:function(s){return s.preventDefault(),t.loginUser(s)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.creds.email,expression:"creds.email"}],staticClass:"form-control m-1",attrs:{type:"email",placeholder:"email"},domProps:{value:t.creds.email},on:{input:function(s){s.target.composing||t.$set(t.creds,"email",s.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.creds.password,expression:"creds.password"}],staticClass:"form-control m-1",attrs:{type:"password",placeholder:"password"},domProps:{value:t.creds.password},on:{input:function(s){s.target.composing||t.$set(t.creds,"password",s.target.value)}}}),e("button",{staticClass:"btn btn-info m-1"},[t._v("Login")])]):e("form",{on:{submit:function(s){return s.preventDefault(),t.register(s)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.name,expression:"newUser.name"}],staticClass:"form-control m-1",attrs:{type:"text",placeholder:"name"},domProps:{value:t.newUser.name},on:{input:function(s){s.target.composing||t.$set(t.newUser,"name",s.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.email,expression:"newUser.email"}],staticClass:"form-control m-1",attrs:{type:"email",placeholder:"email"},domProps:{value:t.newUser.email},on:{input:function(s){s.target.composing||t.$set(t.newUser,"email",s.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.password,expression:"newUser.password"}],staticClass:"form-control m-1",attrs:{type:"password",placeholder:"password"},domProps:{value:t.newUser.password},on:{input:function(s){s.target.composing||t.$set(t.newUser,"password",s.target.value)}}}),e("button",{staticClass:"btn btn-info m-1",attrs:{type:"submit"}},[t._v("Create Account")])]),e("div",{staticClass:"action",on:{click:function(s){t.loginForm=!t.loginForm}}},[t.loginForm?e("p",[t._v("No account? Click here to "),e("strong",[t._v("Register")])]):e("p",[t._v("Already have an account? Click here to "),e("strong",[t._v("Login")])])])])])])},D=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-8 my-5"},[e("h3",[t._v("Welcome to Sloth where everything is slow, furry, and adorable!")])])])}],M={name:"login",data(){return{loginForm:!0,creds:{email:"",password:""},newUser:{email:"",password:"",name:""}}},computed:{},methods:{register(){this.$store.dispatch("register",this.newUser)},loginUser(){this.$store.dispatch("login",this.creds)}}},A=M,F=(e("d6db"),Object(l["a"])(A,E,D,!1,null,null,null)),R=F.exports,J=function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)},q=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-toggle":"modal","data-target":"#task"}},[e("i",{staticClass:"fas fa-pen"})]),e("div",{staticClass:"modal fade",attrs:{id:"task",tabindex:"-1",role:"dialog","aria-labelledby":"Task-Description","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"TaskTitle"}},[t._v("Task Name")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-10"},[t._v("\n                task title\n              ")]),e("div",{staticClass:"col-1"},[e("i",{staticClass:"fas fa-pen"})]),e("div",{staticClass:"col-1"},[e("i",{staticClass:"fas fa-minus-circle"})])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-10"},[t._v("comment")]),e("div",{staticClass:"col-2"},[e("i",{staticClass:"fas fa-minus-circle"})])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-10 align-self-end"},[t._v("add")]),e("div",{staticClass:"col-2 align-self-end"},[e("i",{staticClass:"fas fa-plus-circle"})])])]),e("div",{staticClass:"col-6"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[t._v("\n                    description of task\n                  ")])]),e("div",{staticClass:"row justify-content-center m-3"},[e("div",{staticClass:"col-4"},[t._v("\n                    sloth img\n                  ")])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v("Save changes")])])])])])])])])}],W={name:"Template"},z=W,G=Object(l["a"])(z,J,q,!1,null,"76a4c92a",null),H=G.exports;a["a"].use(u["a"]);var K=new u["a"]({routes:[{path:"/",name:"boards",component:b},{path:"/board/:boardId",name:"board",props:!0,component:S},{path:"/login",name:"login",component:R},{path:"/template",name:"Template",component:H},{path:"*",redirect:"/"}]}),Q=e("2f62"),V=e("bc3a"),X=e.n(V);a["a"].use(Q["a"]);let Y=window.location.host.includes("localhost:8080")?"//localhost:3000/":"/",Z=X.a.create({baseURL:Y+"auth/",timeout:3e3,withCredentials:!0}),tt=X.a.create({baseURL:Y+"api/",timeout:3e3,withCredentials:!0});var st=new Q["a"].Store({state:{user:{},boards:[],activeBoard:{},lists:[],tasks:{}},mutations:{setUser(t,s){t.user=s},setBoards(t,s){t.boards=s},setLists(t,s){t.lists=s},setTasks(t,s){a["a"].set(t.tasks,s.listId,s.tasks),console.log(t.tasks)}},actions:{register({commit:t,dispatch:s},e){Z.post("register",e).then(s=>{t("setUser",s.data),K.push({name:"boards"})})},authenticate({commit:t,dispatch:s}){Z.get("authenticate").then(s=>{t("setUser",s.data)}).catch(t=>{K.push({name:"login"})})},login({commit:t,dispatch:s},e){Z.post("login",e).then(s=>{t("setUser",s.data),K.push({name:"boards"})})},logout({commit:t,dispatch:s}){Z.delete("logout").then(t=>{K.push({name:"login"})})},async getBoards({commit:t,dispatch:s}){await tt.get("boards").then(s=>{t("setBoards",s.data)})},addBoard({commit:t,dispatch:s},e){tt.post("boards",e).then(t=>{s("getBoards")})},deleteBoard({commit:t,dispatch:s},e){tt.delete("boards/"+e).then(t=>{s("getBoards")})},async getLists({commit:t,dispatch:s},e){await tt.get("boards/"+e+"/lists").then(s=>{t("setLists",s.data)})},addList({commit:t,dispatch:s},e){tt.post("lists",e).then(t=>{s("getLists",e.boardId)})},deleteList({commit:t,dispatch:s},e){tt.delete("lists/"+e._id).then(t=>{s("getLists",e.boardId)})},async createTask({commit:t,dispatch:s},e){await tt.post("tasks",e).then(t=>{s("getTasks",e.listId)})},async getTasks({commit:t,dispatch:s},e){await tt.get("lists/"+e+"/tasks").then(s=>{t("setTasks",{listId:e,tasks:s.data})})},async moveTask({commit:t,dispatch:s},e){await tt.put("tasks/"+e.task._id,e.task).then(t=>{s("getTasks",e.task.listId),s("getTasks",e.oldId)})},deleteTask({commit:t,dispatch:s},e){tt.delete("tasks/"+e.taskId).then(t=>{s("getTasks",e.listId)})},async updateTask({commit:t,dispatch:s},e){await tt.put("tasks/"+e._id,e).then(t=>{s("getTasks",e.listId)})}}});a["a"].config.productionTip=!1,new a["a"]({router:K,store:st,created(){this.$store.dispatch("authenticate")},render:t=>t(d)}).$mount("#app")},"57b9":function(t,s,e){},"64a9":function(t,s,e){},a539:function(t,s,e){},a9e7:function(t,s,e){},d6db:function(t,s,e){"use strict";var a=e("a9e7"),i=e.n(a);i.a}});
//# sourceMappingURL=app.fc69ab58.js.map